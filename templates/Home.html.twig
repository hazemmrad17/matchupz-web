{% extends 'baseM.html.twig' %}

{% block title %}MatchupZ - Home{% endblock %}

{% block stylesheets %}
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.css" rel="stylesheet">
    <style>
        /* Blog image carousel styles (kept for reference, but not used for sponsors) */
        .blog-image-carousel {
            padding: 20px 0;
        }
        .blog-image-carousel .owl-item {
            padding: 15px;
            display: flex;
            justify-content: center;
        }
        .blog-image-carousel .blog-img {
            text-align: center;
            width: 100%;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .blog-image-carousel .blog-img img {
            width: 250px;
            height: 200px;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }
        .blog-image-carousel .blog-img img:hover {
            transform: scale(1.05);
        }

        /* Sponsor image carousel styles */
        .sponsor-image-carousel {
            padding: 20px 0;
        }
        .sponsor-image-carousel .owl-item {
            padding: 15px;
            display: flex;
            justify-content: center;
        }
        .sponsor-image-carousel .sponsor-img {
            text-align: center;
            width: 100%;
            height: 150px; /* Adjusted height for sponsor images */
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .sponsor-image-carousel .sponsor-img img {
            width: 200px; /* Adjusted width for sponsor images */
            height: 150px;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: transform 0.3s ease;
        }
        .sponsor-image-carousel .sponsor-img img:hover {
            transform: scale(1.05);
        }

        /* Vibrant team styling */
        .vibrant-team {
            font-weight: bold;
            background: linear-gradient(45deg, #dc3545, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            animation: flow-glow 2s ease-in-out infinite;
        }
        @keyframes flow-glow {
            0% {
                filter: brightness(100%) drop-shadow(0 0 5px rgba(220, 53, 69, 0.5));
            }
            50% {
                filter: brightness(120%) drop-shadow(0 0 10px rgba(220, 53, 69, 0.8));
            }
            100% {
                filter: brightness(100%) drop-shadow(0 0 5px rgba(220, 53, 69, 0.5));
            }
        }

        /* Video placeholder styling */
        .video-placeholder {
            position: relative;
            background: #000;
            width: 100%;
            padding-top: 56.25%;
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
            z-index: 1;
        }
        .video-placeholder iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            z-index: 2;
        }
        .video-placeholder-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #fff;
            font-size: 1.5rem;
            font-weight: 500;
            text-align: center;
            opacity: 0.9;
            text-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
            padding: 0 20px;
            display: none;
            z-index: 3;
        }

        /* Goal section styling */
        .goal-content h1 {
            font-size: 2.5rem;
        }
        .goal-item {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
        }

        /* Video container */
        .video-container-wrapper {
            max-width: 100%;
        }
    </style>
{% endblock %}

{% block body %}
    <!-- Carousel Start -->
    <div class="header-carousel owl-carousel overflow-hidden bg-dark">
        <div class="header-carousel-item hero-section">
            <div class="hero-bg-half-1"></div>
            <div class="carousel-caption">
                <div class="container">
                    <div class="row g-4 align-items-center">
                        <div class="col-lg-7 animated fadeInLeft">
                            <div class="text-sm-center text-md-start">
                                <h4 class="text-primary text-uppercase fw-bold mb-4">Welcome to our Fitness Center</h4>
                                <h1 class="display-1 text-white mb-4">The best gym center is now in your city</h1>
                                <p class="mb-5 fs-5">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy...</p>
                                <div class="d-flex justify-content-center justify-content-md-start flex-shrink-0 mb-4">
                                    <a class="btn btn-dark py-3 px-4 px-md-5 me-2" href="#"><i class="fas fa-play-circle me-2"></i> <span>Watch Video</span></a>
                                    <a class="btn btn-primary py-3 px-4 px-md-5 ms-2" href="#"><span>Learn More</span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="header-carousel-item hero-section">
            <div class="hero-bg-half-2"></div>
            <div class="carousel-caption">
                <div class="container">
                    <div class="row g-4 align-items-center">
                        <div class="col-lg-7 animated fadeInLeft">
                            <div class="text-sm-center text-md-start">
                                <h4 class="text-primary text-uppercase fw-bold mb-4">Welcome to our Fitness Center</h4>
                                <h1 class="display-2 text-white mb-4">Stay healthy by exercising at the best gym center</h1>
                                <p class="mb-5 fs-5">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy...</p>
                                <div class="d-flex justify-content-center justify-content-md-start flex-shrink-0 mb-4">
                                    <a class="btn btn-dark py-3 px-4 px-md-5 me-2" href="#"><i class="fas fa-play-circle me-2"></i> <span>Watch Video</span></a>
                                    <a class="btn btn-primary py-3 px-4 px-md-5 ms-2" href="#"><span>Learn More</span></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Carousel End -->

   <!-- About Start -->
        <div class="container-fluid about pt-5">
            <div class="container pt-5">
                <div class="row g-5">
                    <div class="col-xl-6 wow fadeInLeft" data-wow-delay="0.2s">
                        <div class="about-content h-100">
                            <h4 class="text-primary">Apropos MatchupZ</h4>
                            <h1 class="display-4 text-white mb-4">Nous sommes les meilleurs pour vous aider à réaliser votre potentiel et atteindre vos objectifs.</h1>
                            <div class="tab-class pb-4">
                                <ul class="nav d-flex mb-2">
                                    <li class="nav-item mb-3">
                                        <a class="d-flex py-2 active" data-bs-toggle="pill" href="#tab-1">
                                            <span style="width: 150px;">Notre Mission</span>
                                        </a>
                                    </li>
                                    <li class="nav-item mb-3">
                                        <a class="d-flex py-2 mx-3" data-bs-toggle="pill" href="#tab-2">
                                            <span style="width: 150px;">Notre Vision</span>
                                        </a>
                                    </li>
                                    <li class="nav-item mb-3">
                                        <a class="d-flex py-2" data-bs-toggle="pill" href="#tab-3">
                                            <span style="width: 150px;">Notre Goal</span>
                                        </a>
                                    </li>
                                </ul>
                                <div class="tab-content">
                                    <div id="tab-1" class="tab-pane fade show p-0 active">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="d-flex align-items-center border-top border-bottom py-4">
                                                    <span class="fas fa-rocket text-white fa-4x me-4"></span>
                                                    <p class="mb-0">Offrir aux clubs et infrastructures sportives une solution digitale complète et intuitive pour centraliser la gestion, optimiser la logistique, améliorer la communication et stimuler l’innovation dans le domaine sportif.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="tab-2" class="tab-pane fade show p-0">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="d-flex align-items-center border-top border-bottom py-4">
                                                    <span class="fas fa-rocket text-white fa-4x me-4"></span>
                                                    <p class="mb-0">Devenir la référence en matière de gestion sportive intelligente, en connectant efficacement utilisateurs, infrastructures et activités pour un écosystème sportif plus durable, innovant et performant
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div id="tab-3" class="tab-pane fade show p-0">
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="d-flex align-items-center border-top border-bottom py-4">
                                                    <span class="fas fa-rocket text-white fa-4x me-4"></span>
                                                    <p class="mb-0">Développer une plateforme web et mobile tout-en-un qui simplifie la gestion sportive, stimule l’efficacité des infrastructures, et soutient la croissance économique du secteur à travers des outils modernes, adaptés et accessibles.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row g-4 align-items-center">
                                <div class="col-sm-6">
                                    <a href="#" class="btn btn-primary py-3 px-5"> <span>Contactez-nous</span></a>
                                </div>
                                <div class="col-sm-6">
                                    <div class="d-flex flex-shrink-0 ps-4">
                                        <a href="#" class="btn btn-light btn-lg-square position-relative wow tada" data-wow-delay=".9s">
                                            <i class="fa fa-phone-alt fa-2x"></i>
                                            <div class="position-absolute" style="top: 5px; right: 5px;">
                                                <span><i class="fa fa-comment-dots text-dark"></i></span>
                                            </div>
                                        </a>
                                        <div class="d-flex flex-column ms-3">
                                            <span>Notre contact</span>
                                            <a href="tel:+ 0123 456 7890"><span class="text-white">+ 216 71 006 007</span></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-6 wow fadeInUp" data-wow-delay="0.2s">
                        <div class="about-img h-100">
                            <div class="about-img-inner d-flex h-100">
                                <img src="img/about.png" class="img-fluid w-100" style="object-fit: cover;" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- About End -->

    <!-- Fitness Goal Start (Replaced with Dashboard Content) -->
    <div class="container-fluid goal pt-5">
        <div class="container pt-5">
            {% if schedule is null %}
                <div class="text-center text-white">
                    <h3>Aucun horaire disponible pour le moment.</h3>
                    <p>Revenez plus tard pour voir les matchs en cours ou les vidéos récentes.</p>
                </div>
            {% else %}
                <div class="row g-5">
                    <!-- Video Section -->
                    <div class="col-lg-7 wow fadeInRight" data-wow-delay="0.2s">
                        <div class="h-100 video-container-wrapper">
                            <div class="video-placeholder">
                                {% if isOngoing and schedule.streamURL is not null %}
                                    <iframe src="{{ schedule.streamURL|raw }}?autoplay=1&mute=1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <div class="video-placeholder-text video-fallback">
                                        La diffusion en direct n'a pas pu être chargée.
                                    </div>
                                {% elseif not isOngoing and schedule.URL is not null %}
                                    <iframe src="{{ schedule.URL|raw }}?controls=1" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                    <div class="video-placeholder-text video-fallback">
                                        La vidéo n'a pas pu être chargée.
                                    </div>
                                {% else %}
                                    <div class="video-placeholder-text">
                                        Aucune vidéo disponible pour ce match.
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    <!-- Schedule Details Section -->
                    <div class="col-lg-5 wow fadeInLeft" data-wow-delay="0.2s">
                        <div class="goal-content">
                            <h4 class="text-primary">
                                {% if isOngoing %}
                                    Match en cours
                                {% else %}
                                    Dernier match
                                {% endif %}
                            </h4>
                            <h1 class="display-4 mb-4">
                                {% if schedule.matchEntity %}
                                    <span class="vibrant-team">{{ schedule.matchEntity.c1 }}</span> contre <span class="vibrant-team">{{ schedule.matchEntity.c2 }}</span>
                                {% else %}
                                    Match à déterminer
                                {% endif %}
                            </h1>
                            <div class="goal-item d-flex p-4">
                                <div class="d-flex me-4">
                                    <div class="bg-primary d-inline p-3" style="width: 80px; height: 80px;">
                                        <img src="{{ asset('img/icon-1.png') }}" class="img-fluid" alt="">
                                    </div>
                                </div>
                                <div>
                                    <h4>Date et heure</h4>
                                    <p class="text-white mb-0">
                                        {{ schedule.dateMatch|date('Y-m-d') }} de {{ schedule.startTime|date('H:i') }} à {{ schedule.endTime|date('H:i') }}
                                    </p>
                                </div>
                            </div>
                            <div class="goal-item d-flex p-4 mb-4">
                                <div class="d-flex me-4">
                                    <div class="bg-primary d-inline p-3" style="width: 80px; height: 80px;">
                                        <img src="{{ asset('img/icon-6.png') }}" class="img-fluid" alt="">
                                    </div>
                                </div>
                                <div>
                                    <h4>Lieu et sport</h4>
                                    <p class="text-white mb-0">
                                        <strong>Lieu :</strong> {{ schedule.espaceSportif ? schedule.espaceSportif.nomEspace : 'N/A' }}<br>
                                        {% if schedule.matchEntity and schedule.matchEntity.sportType %}
                                            <strong>Sport :</strong> {{ schedule.matchEntity.sportType }}
                                        {% endif %}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            {% endif %}
        </div>
    </div>
    <!-- Fitness Goal End -->

    <!-- All Espaces Sportifs Carousel -->
    <div class="container-fluid feature bg-light py-5">
        <div class="container py-5 position-relative">
            <div class="text-center mx-auto pb-5 wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
                <h4 class="text-primary">Pourquoi nous choisir ?</h4>
                <h1 class="display-4 mb-4">Découvrer Nos Espaces Sportifs</h1>
                <p class="mb-3">{{ espaces_description|default('') }}</p>
                <p class="mb-0">Ce site vous permet également de <strong>réserver votre club</strong> préféré et de souscrire à un <strong>abonnement</strong> en toute simplicité.</p>
            </div>

            {% set images = ['stadium1.jpg', 'stadium2.jpg', 'stadium3.jpg', 'stadium4.jpg', 'stadium5.jpg'] %}

            {% if espacesWithCoords|length > 0 %}
                <div class="espace-carousel owl-carousel mb-5 position-relative" style="z-index: 2;">
                    {% for item in espacesWithCoords %}
                        {% set espace = item.espace %}
                        <div class="feature-item wow fadeInUp" data-wow-delay="{{ 0.2 + (loop.index0 * 0.2) }}s">
                            <div class="feature-img">
                                <img src="{{ asset('img/' ~ images[loop.index0 % images|length]) }}" class="img-fluid w-100" alt="Espace Sportif">
                            </div>
                            <div class="feature-content p-4">
                                <h4 class="mb-3">{{ espace.nom_espace }}</h4>
                                <p class="mb-2"><i class="fas fa-map-marker-alt me-2 text-primary"></i><strong>Adresse:</strong> {{ espace.adresse }}</p>
                                <p class="mb-2"><i class="fas fa-tags me-2 text-primary"></i><strong>Catégorie:</strong> {{ espace.categorie }}</p>
                                <p class="mb-3"><i class="fas fa-users me-2 text-primary"></i><strong>Capacité:</strong> {{ espace.capacite }} personnes</p>
                                <p class="mb-3 text-muted"><i class="fas fa-calendar-check me-2 text-success"></i>Vous pouvez réserver un créneau pour votre club préféré.</p>
                                <a href="#" class="btn btn-primary py-2 px-4 show-map-btn"
                                   data-lat="{{ item.latitude ?? '' }}"
                                   data-lng="{{ item.longitude ?? '' }}"
                                   data-nom="{{ espace.nom_espace }}"
                                   data-weather-temp="{{ item.weather.temp ?? 'N/A' }}"
                                   data-weather-humidity="{{ item.weather.humidity ?? 'N/A' }}"
                                   data-weather-clouds="{{ item.weather.cloud_pct ?? 'N/A' }}"
                                   data-weather-condition="{{ item.weather.condition ?? 'cloudy' }}"
                                   data-toggle="modal"
                                   data-target="#mapModal"><span>En savoir plus</span></a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="col-12 text-center">
                    <p class="text-muted">Aucun espace sportif trouvé.</p>
                </div>
            {% endif %}

            <div class="feature-shaps position-absolute top-0 start-0 w-100 h-100" style="z-index: 1;"></div>
        </div>
    </div>

    <!-- Map and Weather Modal -->
    <div class="modal fade" id="mapModal" tabindex="-1" role="dialog" aria-labelledby="mapModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="mapModalLabel">Localisation et Météo</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body d-flex flex-row">
                    <div id="map" style="height: 520px; width: 100%;"></div>
                    <div id="weather-info" class="p-4 d-flex flex-column justify-content-center align-items-center" style="width: 25%; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-left: 1px solid #dee2e6; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);">
                        <img id="weather-icon" src="" alt="Weather Icon" class="weather-icon" style="width: 120px; height: 120px; border-radius: 10%; box-shadow: 0 4px 8px rgba(223, 217, 217, 0.1); transition: transform 0.3s ease;">
                        <h6 class="mb-4 text-uppercase font-weight-bold text-primary" style="letter-spacing: 1px;">Météo Actuelle</h6>
                        <div class="weather-data w-100">
                            <p class="mb-3 d-flex align-items-center weather-item" style="transition: background-color 0.3s ease;">
                                <i class="fas fa-thermometer-half me-3 text-danger" style="font-size: 1.2rem;"></i>
                                <span><strong>Température:</strong> <span id="weather-temp"></span>°C</span>
                            </p>
                            <p class="mb-3 d-flex align-items-center weather-item" style="transition: background-color 0.3s ease;">
                                <i class="fas fa-tint me-3 text-primary" style="font-size: 1.2rem;"></i>
                                <span><strong>Humidité:</strong> <span id="weather-humidity"></span>%</span>
                            </p>
                            <p class="mb-0 d-flex align-items-center weather-item" style="transition: background-color 0.3s ease;">
                                <i class="fas fa-cloud me-3 text-muted" style="font-size: 1.2rem;"></i>
                                <span><strong>Nuages:</strong> <span id="weather-clouds"></span>%</span>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Espaces Sportifs Carousel End -->

   

    <!-- Sponsors Start -->
    <div class="container-fluid sponsors py-5">
        <div class="container py-5">
            <div class="text-center mx-auto pb-5 wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
                <h4 class="text-primary">Notre Spons</h4>
                <h1 class="display-4 mb-4"> Rencontrez Nos Partenaires Précieux</h1>
                <p class="mb-0">Nous sommes fiers de collaborer avec ces sponsors incroyables qui soutiennent notre mission de promotion du sport et du fitness. </div>
            {% if sponsors|length > 0 %}
                <div class="sponsor-image-carousel owl-carousel mb-5 position-relative" style="z-index: 2;">
                    {% for sponsor in sponsors %}
                        <div class="sponsor-img wow fadeInUp" data-wow-delay="{{ 0.2 + (loop.index0 * 0.2) }}s">
                            <img src="{{ asset('Uploads/sponsor_pictures/' ~ sponsor.sponsorPicture) }}" class="img-fluid" alt="{{ sponsor.nom }}">
                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="col-12 text-center">
                    <p class="text-muted">Aucune image de sponsor trouvée.</p>
                </div>
            {% endif %}
        </div>
    </div>
    <!-- Sponsors End -->

    

    <!-- Team Start -->
    <div class="container-fluid team py-5">
        <div class="container py-5">
            <div class="text-center mx-auto pb-5 wow fadeInUp" data-wow-delay="0.2s" style="max-width: 800px;">
                <h4 class="text-primary">Notre équipe</h4>
                <h1 class="display-4 mb-4">Rencontrez notre équipe incroyable</h1>
                <p class="mb-0">L'équipe passionnée de MatchUpz offre l'expérience sportive ultime, en gérant les sponsors, les lieux, les matchs, la logistique et les connexions entre joueurs avec expertise. Découvrez les innovateurs qui élèvent chaque match à un niveau supérieur !     </div>
            <div class="row gy-5 gx-4">
                <div class="col-4 wow fadeInUp" data-wow-delay="0.2s">
                    <div class="team-item">
                        <div class="team-img">
                            <img src="{{ asset('img/team-1.png') }}" class="img-fluid w-100" alt="Image">
                            <div class="team-icon">
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-instagram"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                        <div class="team-content">
                            <h4>Amine Mokhtar</h4>
                            <p class="mb-0">Responsable Gestion Sponsor</p>
                        </div>
                    </div>
                </div>
                <div class="col-4 wow fadeInUp" data-wow-delay="0.4s">
                    <div class="team-item">
                        <div class="team-img">
                            <img src="{{ asset('img/team-3.jpg') }}" class="img-fluid w-100" alt="Image">
                            <div class="team-icon">
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-instagram"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                        <div class="team-content">
                            <h4>Feriel Khamlia</h4>
                            <p class="mb-0">Responsable Gestion Utilisateur</p>
                        </div>
                    </div>
                </div>
                <div class="col-4 wow fadeInUp" data-wow-delay="0.6s">
                    <div class="team-item">
                        <div class="team-img">
                            <img src="{{ asset('img/team-2.jpg') }}" class="img-fluid w-100" alt="Image">
                            <div class="team-icon">
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab ca-instagram"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                        <div class="team-content">
                            <h4>Ismail Ismail</h4>
                            <p class="mb-0">Responsable Gestion Espaces Sportifs</p>
                        </div>
                    </div>
                </div>
                <div class="col-4 wow fadeInUp" data-wow-delay="0.2s">
                    <div class="team-item">
                        <div class="team-img">
                            <img src="{{ asset('img/team-4.jpg') }}" class="img-fluid w-100" alt="Image">
                            <div class="team-icon">
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-instagram"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                        <div class="team-content">
                            <h4>Louay Tlili</h4>
                            <p class="mb-0">Responsable Gestion Matchs</p>
                        </div>
                    </div>
                </div>
                <div class="col-4 wow fadeInUp" data-wow-delay="0.4s">
                    <div class="team-item">
                        <div class="team-img">
                            <img src="{{ asset('img/team-5.jpeg') }}" class="img-fluid w-100" alt="Image">
                            <div class="team-icon">
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-instagram"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                        <div class="team-content">
                            <h4>Ibtissem Ben Amara</h4>
                            <p class="mb-0">Responsable Gestion Logistique</p>
                        </div>
                    </div>
                </div>
                <div class="col-4 wow fadeInUp" data-wow-delay="0.6s">
                    <div class="team-item">
                        <div class="team-img">
                            <img src="{{ asset('img/team-6.jpg') }}" class="img-fluid w-100" alt="Image">
                            <div class="team-icon">
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-facebook-f"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-twitter"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-instagram"></i></a>
                                <a href="#" class="btn btn-primary btn-sm-square"><i class="fab fa-linkedin-in"></i></a>
                            </div>
                        </div>
                        <div class="team-content">
                            <h4>Hazem Mrad</h4>
                            <p class="mb-0">Responsable Gestion Joueurs et Equipes</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Team End -->

    
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.7.0/mapbox-gl.js"></script>
    <script>
        $(document).ready(function() {
            // Initialize Espaces Carousel
            $(".espace-carousel").owlCarousel({
                items: 3,
                margin: 30,
                loop: false,
                autoplay: false,
                dots: true,
                nav: false,
                responsive: {
                    0: { items: 1 },
                    768: { items: 2 },
                    992: { items: 3 }
                }
            });

            // Initialize Sponsors Carousel
            $(".sponsor-image-carousel").owlCarousel({
                items: 4,
                margin: 30,
                loop: true,
                autoplay: true,
                autoplayTimeout: 3000,
                smartSpeed: 800,
                dots: true,
                nav: false,
                responsive: {
                    0: { items: 1 },
                    576: { items: 2 },
                    768: { items: 3 },
                    992: { items: 4 }
                }
            });

            let map;
            const accessToken = "pk.eyJ1IjoiaXNtYWlsMDIiLCJhIjoiY200cmJoajV4MDNibDJtc2VycmE2NnJ2MCJ9.6Nu1GLxUDkC9Odep6mKsmA";

            function initializeMap(lat, lng, nom) {
                mapboxgl.accessToken = accessToken;
                if (map) {
                    map.remove();
                }
                map = new mapboxgl.Map({
                    container: 'map',
                    style: 'mapbox://styles/mapbox/streets-v11',
                    center: [lng, lat],
                    zoom: 15
                });
                new mapboxgl.Marker()
                    .setLngLat([lng, lat])
                    .setPopup(new mapboxgl.Popup().setHTML(`<b>${nom}</b>`))
                    .addTo(map)
                    .togglePopup();
            }

            $('.show-map-btn').on('click', function(e) {
                e.preventDefault();
                const lat = parseFloat($(this).data('lat'));
                const lng = parseFloat($(this).data('lng'));
                const nom = $(this).data('nom');
                const temp = $(this).data('weather-temp');
                const humidity = $(this).data('weather-humidity');
                const clouds = $(this).data('weather-clouds');
                const condition = $(this).data('weather-condition');

                if (lat && lng && !isNaN(lat) && !isNaN(lng)) {
                    initializeMap(lat, lng, nom);
                    $('#weather-temp').text(temp);
                    $('#weather-humidity').text(humidity);
                    $('#weather-clouds').text(clouds);
                    let iconSrc = condition === 'sunny' ? '{{ asset('img/clouds_sun_weather.png') }}' :
                                  condition === 'rainy' ? '{{ asset('img/rain_weather.png') }}' :
                                  '{{ asset('img/clouds_sun_weather.png') }}';
                    $('#weather-icon').attr('src', iconSrc);
                    $('#mapModal').modal('show');
                } else {
                    alert('Les coordonnées pour cet espace ne sont pas disponibles.');
                }
            });

            $('#mapModal').on('shown.bs.modal', function () {
                if (map) {
                    setTimeout(function() {
                        map.resize();
                    }, 200);
                }
            });

            $('#weather-icon').hover(
                function() { $(this).css('transform', 'scale(1.1)'); },
                function() { $(this).css('transform', 'scale(1)'); }
            );
            $('.weather-item').hover(
                function() { $(this).css('background-color', 'rgba(250, 250, 250, 0.05)'); },
                function() { $(this).css('background-color', 'transparent'); }
            );

            // JavaScript for Video Handling
            const iframes = document.querySelectorAll('.video-placeholder iframe');
            iframes.forEach(iframe => {
                console.log('Video iframe URL:', iframe.src);
                iframe.addEventListener('click', function (e) {
                    console.log('Iframe clicked at coordinates:', e.clientX, e.clientY, '- attempting to interact with video');
                });
                iframe.addEventListener('error', function (e) {
                    console.error('Error loading video:', e);
                    const fallback = iframe.parentElement.querySelector('.video-fallback');
                    if (fallback) {
                        iframe.style.display = 'none';
                        fallback.style.display = 'block';
                    }
                });
                setTimeout(() => {
                    if (iframe.clientHeight < 50) {
                        console.warn('Video likely unavailable (iframe height too small)');
                        const fallback = iframe.parentElement.querySelector('.video-fallback');
                        if (fallback) {
                            iframe.style.display = 'none';
                            fallback.style.display = 'block';
                        }
                    }
                }, 3000);
                console.log('Iframe parent elements:', iframe.parentElement);
            });

            const placeholder = document.querySelector('.video-placeholder');
            if (placeholder) {
                const computedStyle = window.getComputedStyle(placeholder);
                console.log('Video placeholder z-index:', computedStyle.zIndex);
                console.log('Video placeholder pointer-events:', computedStyle.pointerEvents);
            }
        });
    </script>
{% endblock %}